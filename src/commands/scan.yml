description: >
  Scan the application dependencies for known vulnerabilities with Sec1 Security.
# What will this command do?
# Descriptions should be short, simple, and clear.
parameters:
  github_repo:
    type: string
    default: ""
    description: "Repository url be scanned"
  api_key:
    type: string
    default: ""
    description: "Sec1 API Key"
steps:
  - checkout
  - setup_remote_docker
  - run:
      environment:
        PARAM_GITHUB_REPOSITORY: <<parameters.github_repo>>
        PARAM_SEC1_API_KEY: <<parameters.api_key>>
      name: Run Sec1 FOSS Security
      command: <<include(scripts/scan.sh)>>
